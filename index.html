<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecoinvent „Ç¢„É´„Éü„Éã„Ç¶„É†„Ç´„ÉÜ„Ç¥„É™ÈöéÂ±§Âõ≥</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 1200px) {
            .container {
                max-width: 95%;
                padding: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                border-radius: 10px;
            }
        }
        
        .title {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .breadcrumb {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px;
            background: rgba(52, 73, 94, 0.1);
            border-radius: 10px;
        }
        
        .breadcrumb-item {
            display: inline;
            color: #2c3e50;
            font-weight: 500;
        }
        
        .breadcrumb-item:not(:last-child)::after {
            content: " > ";
            color: #7f8c8d;
            margin: 0 8px;
        }
        
        .breadcrumb-item.clickable {
            cursor: pointer;
            color: #3498db;
            text-decoration: underline;
        }
        
        .breadcrumb-item.clickable:hover {
            color: #2980b9;
        }
        
        .main-area {
            position: relative;
            width: 100%;
            height: 1200px;
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            border: 3px solid #333;
            border-radius: 20px;
            margin: 0 auto;
            overflow: hidden;
            transition: all 0.5s ease;
        }
        
        @media (max-width: 1200px) {
            .main-area {
                height: 1000px;
            }
        }
        
        @media (max-width: 768px) {
            .main-area {
                height: 1400px;
                border: 2px solid #333;
            }
        }
        
        .main-title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            z-index: 100;
        }
        
        .info-panel-top {
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            max-width: 600px;
            min-width: 400px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            z-index: 100;
        }
        
        .area {
            position: absolute;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255,255,255,0.3);
        }
        
        @media (max-width: 768px) {
            .area {
                padding: 15px;
                border-radius: 10px;
                min-width: 250px !important;
                min-height: 200px !important;
            }
        }
        
        .area:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 35px rgba(0,0,0,0.25);
            z-index: 50;
        }
        
        .area.clickable::after {
            content: "üì± „ÇØ„É™„ÉÉ„ÇØ„ÅßË©≥Á¥∞";
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 12px;
            color: rgba(255,255,255,0.8);
            background: rgba(0,0,0,0.3);
            padding: 2px 8px;
            border-radius: 10px;
        }
        
        .area-title {
            font-size: 18px;
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            line-height: 1.2;
        }
        
        @media (max-width: 768px) {
            .area-title {
                font-size: 16px;
                margin-bottom: 12px;
            }
        }
        
        .area-content {
            background: rgba(255,255,255,0.9);
            border-radius: 10px;
            padding: 15px;
            height: calc(100% - 80px);
            overflow-y: auto;
        }
        
        .sub-item {
            background: linear-gradient(135deg, #fff, #f8f9fa);
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #333;
            border-left: 4px solid #007bff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
            line-height: 1.4;
        }
        
        @media (max-width: 768px) {
            .sub-item {
                font-size: 13px;
                padding: 10px;
                margin: 6px 0;
            }
        }
        
        .sub-item:hover {
            transform: translateX(5px);
            border-left-color: #ffc107;
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        }
        
        .info-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            font-size: 16px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
        }
        
        .info-text {
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }
        
        @media (max-width: 768px) {
            .info-text {
                font-size: 13px;
            }
        }
        
        .legend {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            max-width: 250px;
        }
        
        @media (max-width: 768px) {
            .legend {
                bottom: 20px;
                left: 20px;
                padding: 15px;
                max-width: 200px;
                border-radius: 10px;
            }
        }
        
        .legend-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
        }
        
        .legend-color {
            width: 25px;
            height: 25px;
            margin-right: 12px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .legend-text {
            font-size: 13px;
            color: #333;
            font-weight: 500;
        }
        
        .back-button {
            position: fixed;
            top: 30px;
            left: 30px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
            display: none;
            z-index: 200;
        }
        
        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(231, 76, 60, 0.4);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
            50% { box-shadow: 0 12px 35px rgba(0,0,0,0.25); }
            100% { box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        }
        
        .area.active {
            animation: pulse 2s infinite;
        }
        
        .fade-transition {
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .fade-transition.active {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">ecoinvent „Ç¢„É´„Éü„Éã„Ç¶„É†„Ç´„ÉÜ„Ç¥„É™„Ç®„É™„Ç¢Âõ≥</div>
        
        <!-- „Éë„É≥„Åè„Åö„Éä„Éì -->
        <div class="breadcrumb" id="breadcrumb">
            <span class="breadcrumb-item">„Ç¢„É´„Éü„Éã„Ç¶„É†ÂÖ®‰Ωì</span>
        </div>
        
        <!-- Êàª„Çã„Éú„Çø„É≥ -->
        <div class="back-button" id="backButton" onclick="goBack()">‚Üê Êàª„Çã</div>
        
        <div class="main-area fade-transition active" id="mainArea">
            <div class="main-title" id="mainTitle">„Ç¢„É´„Éü„Éã„Ç¶„É†ÂÖ®‰ΩìÈ†òÂüü (Aluminum Domain)</div>
            
            <!-- ‰∏äÈÉ®ÊÉÖÂ†±„Éë„Éç„É´ -->
            <div class="info-panel-top" id="infoPanelTop">
                <div class="info-title">„Ç®„É™„Ç¢ÊÉÖÂ†±</div>
                <div class="info-text" id="infoContentTop">
                    ÂêÑ„Ç®„É™„Ç¢„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Ë©≥Á¥∞ÊÉÖÂ†±„ÇíË°®Á§∫„Åô„Çã„Åã„ÄÅË©≥Á¥∞„Ç®„É™„Ç¢„Å´ÁßªÂãï„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>
                    „Åì„ÅÆÂõ≥„ÅØ„ÄÅecoinvent„Éá„Éº„Çø„Éô„Éº„Çπ„Å´„Åä„Åë„Çã„Ç¢„É´„Éü„Éã„Ç¶„É†Èñ¢ÈÄ£„Éó„É≠„Çª„Çπ„ÇíÂú∞ÁêÜÁöÑ„Ç®„É™„Ç¢„ÅÆ„Çà„ÅÜ„Å´Ë°®Áèæ„Åó„ÄÅ
                    „Åù„Çå„Åû„Çå„ÅÆÈ†òÂüüÂÜÖ„Å´Èñ¢ÈÄ£„Åô„Çã„Éó„É≠„Çª„Çπ„ÇÑ„Ç´„ÉÜ„Ç¥„É™„Çí„Ç∞„É´„Éº„ÉóÂåñ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                </div>
            </div>
            
            <!-- ÂãïÁöÑ„Å´„Ç®„É™„Ç¢„ÅåÁîüÊàê„Åï„Çå„ÇãÂ†¥ÊâÄ -->
            <div id="areasContainer"></div>
        </div>
        
        <!-- Âá°‰æã -->
        <div class="legend">
            <div class="legend-title">„Ç®„É™„Ç¢ÂàÜÈ°û</div>
            <div id="legendContent">
                <!-- ÂãïÁöÑ„Å´ÁîüÊàê -->
            </div>
        </div>
    </div>
    
    <script>
        // ÈöéÂ±§„Éá„Éº„ÇøÂÆöÁæ©
        const areaHierarchy = {
            "main": {
                "title": "„Ç¢„É´„Éü„Éã„Ç¶„É†ÂÖ®‰ΩìÈ†òÂüü (Aluminum Domain)",
                "areas": {
                    "primary_production": {
                        "name": "‰∏ÄÊ¨°„Ç¢„É´„Éü„Éã„Ç¶„É†ÁîüÁî£„Ç®„É™„Ç¢",
                        "color": "linear-gradient(135deg, #ff6b6b, #ee5a24)",
                        "position": {"top": 170, "left": 30, "width": 280, "height": 250},
                        "sub_items": [
                            "„Éú„Éº„Ç≠„Çµ„Ç§„ÉàÊé°Êéò„Éó„É≠„Çª„Çπ",
                            "„Ç¢„É´„Éü„ÉäÁ≤æË£Ω„Éó„É≠„Çª„Çπ", 
                            "ÈõªËß£Ë£ΩÈå¨„Éó„É≠„Çª„Çπ",
                            "Âú∞ÂüüÂà•ÁîüÁî£ (‰∏≠ÂõΩ)",
                            "Âú∞ÂüüÂà•ÁîüÁî£ (Ê¨ßÂ∑û)",
                            "Âú∞ÂüüÂà•ÁîüÁî£ (ÂåóÁ±≥)",
                            "Âú∞ÂüüÂà•ÁîüÁî£ („Åù„ÅÆ‰ªñ)"
                        ],
                        "has_detail": true,
                        "legend_color": "#ff6b6b"
                    },
                    "secondary_production": {
                        "name": "‰∫åÊ¨°„Ç¢„É´„Éü„Éã„Ç¶„É†ÁîüÁî£„Ç®„É™„Ç¢",
                        "color": "linear-gradient(135deg, #4ecdc4, #00b894)",
                        "position": {"top": 170, "right": 30, "width": 280, "height": 250},
                        "sub_items": [
                            "„Ç¢„É´„Éü„Çπ„ÇØ„É©„ÉÉ„ÉóÂõûÂèé",
                            "„Çπ„ÇØ„É©„ÉÉ„ÉóÂâçÂá¶ÁêÜ",
                            "Ê∫∂Ëß£„ÉªÁ≤æË£Ω„Éó„É≠„Çª„Çπ",
                            "ÂÜçÁîü„Ç§„É≥„Ç¥„ÉÉ„ÉàË£ΩÈÄ†",
                            "ÂìÅË≥™ÁÆ°ÁêÜ„ÉªÂàÜÊûê",
                            "„É™„Çµ„Ç§„ÇØ„É´ÂäπÁéáË©ï‰æ°"
                        ],
                        "has_detail": true,
                        "legend_color": "#4ecdc4"
                    },
                    "alloys": {
                        "name": "„Ç¢„É´„Éü„Éã„Ç¶„É†ÂêàÈáë„Ç®„É™„Ç¢", 
                        "color": "linear-gradient(135deg, #ffeaa7, #fdcb6e)",
                        "position": {"top": 460, "left": "50%", "transform": "translateX(-50%)", "width": 320, "height": 220},
                        "sub_items": [
                            "1000Á≥ª (Á¥î„Ç¢„É´„Éü„Éã„Ç¶„É†Á≥ª)",
                            "2000Á≥ª (Al-CuÁ≥ªÂêàÈáë)",
                            "3000Á≥ª (Al-MnÁ≥ªÂêàÈáë)", 
                            "5000Á≥ª (Al-MgÁ≥ªÂêàÈáë)",
                            "6000Á≥ª (Al-Mg-SiÁ≥ªÂêàÈáë)",
                            "7000Á≥ª (Al-ZnÁ≥ªÂêàÈáë)"
                        ],
                        "has_detail": true,
                        "legend_color": "#ffeaa7"
                    },
                    "processing": {
                        "name": "„Ç¢„É´„Éü„Éã„Ç¶„É†Âä†Â∑•„Ç®„É™„Ç¢",
                        "color": "linear-gradient(135deg, #45b7d1, #0984e3)",
                        "position": {"top": 720, "left": 30, "width": 320, "height": 260},
                        "sub_items": [
                            "ÂúßÂª∂Âä†Â∑• (ÊùøÊùêË£ΩÈÄ†)",
                            "ÂúßÂª∂Âä†Â∑• (ÁÆîË£ΩÈÄ†)",
                            "ÊäºÂá∫ÊàêÂΩ¢ (ÂΩ¢ÊùêË£ΩÈÄ†)",
                            "ÈçõÈÄ†Âä†Â∑• (È´òÂº∑Â∫¶ÈÉ®ÂìÅ)",
                            "Èã≥ÈÄ†Âä†Â∑• (Ë§áÈõëÂΩ¢Áä∂)",
                            "Ë°®Èù¢Âá¶ÁêÜ (ÈôΩÊ•µÈÖ∏Âåñ)",
                            "Ê©üÊ¢∞Âä†Â∑• (ÂàáÂâä„ÉªÁ†îÁ£®)",
                            "Ê∫∂Êé•„ÉªÊé•Âêà„Éó„É≠„Çª„Çπ"
                        ],
                        "has_detail": true,
                        "legend_color": "#45b7d1"
                    },
                    "products": {
                        "name": "„Ç¢„É´„Éü„Éã„Ç¶„É†Ë£ΩÂìÅ„Ç®„É™„Ç¢",
                        "color": "linear-gradient(135deg, #96ceb4, #55a3ff)",
                        "position": {"top": 720, "right": 30, "width": 320, "height": 260},
                        "sub_items": [
                            "Âª∫ÁØâÊùêÊñô (Á™ìÊû†„ÉªÂ§ñË£Ö)",
                            "Âª∫ÁØâÊùêÊñô (ÊßãÈÄ†Êùê)",
                            "Ëº∏ÈÄÅÁî® (Ëá™ÂãïËªäÈÉ®ÂìÅ)",
                            "Ëº∏ÈÄÅÁî® (Ëà™Á©∫Ê©üÈÉ®ÂìÅ)",
                            "ÂåÖË£ÖÊùêÊñô (Áº∂„ÉªÂÆπÂô®)",
                            "ÂåÖË£ÖÊùêÊñô (ÁÆî„Éª„Éï„Ç£„É´„É†)",
                            "ÈõªÂ≠êÈÉ®ÂìÅ (ÊîæÁÜ±Âô®)",
                            "ÈõªÂ≠êÈÉ®ÂìÅ (Á≠ê‰Ωì„Éª„Ç≥„Éç„ÇØ„Çø)"
                        ],
                        "has_detail": true,
                        "legend_color": "#96ceb4"
                    }
                }
            },
            
            // ‰∏ÄÊ¨°ÁîüÁî£„Ç®„É™„Ç¢„ÅÆË©≥Á¥∞
            "primary_production": {
                "title": "‰∏ÄÊ¨°„Ç¢„É´„Éü„Éã„Ç¶„É†ÁîüÁî£„Ç®„É™„Ç¢Ë©≥Á¥∞",
                "parent": "main",
                "areas": {
                    "bauxite_mining": {
                        "name": "„Éú„Éº„Ç≠„Çµ„Ç§„ÉàÊé°Êéò",
                        "color": "linear-gradient(135deg, #e74c3c, #c0392b)",
                        "position": {"top": 160, "left": 60, "width": 220, "height": 200},
                        "sub_items": [
                            "Èú≤Â§©Êéò„ÇäÊé°Êéò",
                            "Âú∞‰∏ãÊé°Êéò",
                            "Èâ±Áü≥ÂìÅË≥™ÁÆ°ÁêÜ",
                            "Áí∞Â¢ÉÂΩ±ÈüøË©ï‰æ°",
                            "Êé°ÊéòÂæåÂæ©Êóß"
                        ],
                        "has_detail": false,
                        "legend_color": "#e74c3c"
                    },
                    "alumina_refining": {
                        "name": "„Ç¢„É´„Éü„ÉäÁ≤æË£Ω",
                        "color": "linear-gradient(135deg, #c0392b, #a93226)",
                        "position": {"top": 160, "right": 60, "width": 220, "height": 200},
                        "sub_items": [
                            "„Éê„Ç§„É§„ÉºÊ≥ï„Éó„É≠„Çª„Çπ",
                            "Ëµ§Ê≥•Âá¶ÁêÜ",
                            "ÁµêÊô∂ÂåñÂ∑•Á®ã",
                            "ÁÑºÊàêÂ∑•Á®ã",
                            "ÂìÅË≥™Ê§úÊüª"
                        ],
                        "has_detail": false,
                        "legend_color": "#c0392b"
                    },
                    "electrolysis": {
                        "name": "ÈõªËß£Ë£ΩÈå¨",
                        "color": "linear-gradient(135deg, #a93226, #922b21)",
                        "position": {"top": 420, "left": "50%", "transform": "translateX(-50%)", "width": 260, "height": 220},
                        "sub_items": [
                            "„Éõ„Éº„É´„Éª„Ç®„É´„ÉºÊ≥ï",
                            "ÈõªËß£ÊßΩÁÆ°ÁêÜ",
                            "ÈôΩÊ•µ„ÉªÈô∞Ê•µÁÆ°ÁêÜ",
                            "ÈõªÂäõ‰æõÁµ¶„Ç∑„Çπ„ÉÜ„É†",
                            "Ê∫∂Ëûç„Ç¢„É´„Éü„Éã„Ç¶„É†Âá¶ÁêÜ"
                        ],
                        "has_detail": false,
                        "legend_color": "#a93226"
                    },
                    "regional_china": {
                        "name": "‰∏≠ÂõΩÂú∞ÂüüÁîüÁî£",
                        "color": "linear-gradient(135deg, #922b21, #7b241c)",
                        "position": {"top": 680, "left": 40, "width": 200, "height": 180},
                        "sub_items": [
                            "Áü≥ÁÇ≠ÁÅ´ÂäõÁô∫Èõª‰æùÂ≠ò",
                            "ÂÜÖ„É¢„É≥„Ç¥„É´ÁîüÁî£Âü∫Âú∞",
                            "Êñ∞ÁñÜ„Ç¶„Ç§„Ç∞„É´ÁîüÁî£Âü∫Âú∞",
                            "Áí∞Â¢ÉË¶èÂà∂ÂØæÂøú",
                            "ÁîüÁî£ËÉΩÂäõÊã°Âºµ"
                        ],
                        "has_detail": false,
                        "legend_color": "#922b21"
                    },
                    "regional_europe": {
                        "name": "Ê¨ßÂ∑ûÂú∞ÂüüÁîüÁî£",
                        "color": "linear-gradient(135deg, #7b241c, #641e16)",
                        "position": {"top": 680, "left": 260, "width": 200, "height": 180},
                        "sub_items": [
                            "Ê∞¥ÂäõÁô∫ÈõªÂà©Áî®",
                            "„Éé„É´„Ç¶„Çß„ÉºÁîüÁî£Âü∫Âú∞",
                            "„Ç¢„Ç§„Çπ„É©„É≥„ÉâÁîüÁî£Âü∫Âú∞",
                            "ÂÜçÁîüÂèØËÉΩ„Ç®„Éç„É´„ÇÆ„Éº",
                            "EUË¶èÂà∂ÂØæÂøú"
                        ],
                        "has_detail": false,
                        "legend_color": "#7b241c"
                    },
                    "regional_americas": {
                        "name": "ÂåóÁ±≥Âú∞ÂüüÁîüÁî£",
                        "color": "linear-gradient(135deg, #641e16, #4a1410)",
                        "position": {"top": 680, "right": 40, "width": 200, "height": 180},
                        "sub_items": [
                            "„Ç´„Éä„ÉÄÊ∞¥ÂäõÁô∫Èõª",
                            "Á±≥ÂõΩÂ§©ÁÑ∂„Ç¨„ÇπÁô∫Èõª",
                            "„Ç±„Éô„ÉÉ„ÇØÂ∑ûÁîüÁî£Âü∫Âú∞",
                            "NAFTAÂçîÂÆöÂΩ±Èüø",
                            "ÁÇ≠Á¥†Á®éÂØæÂøú"
                        ],
                        "has_detail": false,
                        "legend_color": "#641e16"
                    }
                }
            },
            
            // ‰∫åÊ¨°ÁîüÁî£„Ç®„É™„Ç¢„ÅÆË©≥Á¥∞
            "secondary_production": {
                "title": "‰∫åÊ¨°„Ç¢„É´„Éü„Éã„Ç¶„É†ÁîüÁî£„Ç®„É™„Ç¢Ë©≥Á¥∞",
                "parent": "main",
                "areas": {
                    "scrap_collection": {
                        "name": "„Çπ„ÇØ„É©„ÉÉ„ÉóÂõûÂèé„Ç∑„Çπ„ÉÜ„É†",
                        "color": "linear-gradient(135deg, #17a2b8, #138496)",
                        "position": {"top": 160, "left": 60, "width": 240, "height": 200},
                        "sub_items": [
                            "Âª∫ÁØâÂªÉÊùêÂõûÂèé",
                            "Ëá™ÂãïËªäËß£‰Ωì„Çπ„ÇØ„É©„ÉÉ„Éó",
                            "È£≤ÊñôÁº∂ÂõûÂèé",
                            "Áî£Ê•≠„Çπ„ÇØ„É©„ÉÉ„Éó",
                            "ÂàÜÂà•„Éª‰ªïÂàÜ„Åë„Ç∑„Çπ„ÉÜ„É†"
                        ],
                        "has_detail": false,
                        "legend_color": "#17a2b8"
                    },
                    "preprocessing": {
                        "name": "ÂâçÂá¶ÁêÜÂ∑•Á®ã",
                        "color": "linear-gradient(135deg, #138496, #0f6674)",
                        "position": {"top": 160, "right": 60, "width": 220, "height": 200},
                        "sub_items": [
                            "Á£ÅÊ∞óÂàÜÈõ¢",
                            "Ê∏¶ÈõªÊµÅÂàÜÈõ¢",
                            "Á†¥Á†ï„ÉªË£ÅÊñ≠",
                            "Ê¥óÊµÑ„ÉªËÑ±ËÑÇ",
                            "ÂêàÈáëÂàÜÂà•"
                        ],
                        "has_detail": false,
                        "legend_color": "#138496"
                    },
                    "melting_refining": {
                        "name": "Ê∫∂Ëß£„ÉªÁ≤æË£Ω„Éó„É≠„Çª„Çπ",
                        "color": "linear-gradient(135deg, #0f6674, #0a525a)",
                        "position": {"top": 420, "left": "50%", "transform": "translateX(-50%)", "width": 260, "height": 220},
                        "sub_items": [
                            "ÂèçÂ∞ÑÁÇâÊ∫∂Ëß£",
                            "ÂõûËª¢ÁÇâÊ∫∂Ëß£",
                            "„Éï„É©„ÉÉ„ÇØ„ÇπÂá¶ÁêÜ",
                            "„Ç¨„ÇπÈô§Âéª",
                            "‰ªãÂú®Áâ©Èô§Âéª"
                        ],
                        "has_detail": false,
                        "legend_color": "#0f6674"
                    },
                    "quality_control": {
                        "name": "ÂìÅË≥™ÁÆ°ÁêÜ„ÉªÂàÜÊûê",
                        "color": "linear-gradient(135deg, #0a525a, #073e47)",
                        "position": {"top": 680, "left": 60, "width": 220, "height": 180},
                        "sub_items": [
                            "ÂåñÂ≠¶ÊàêÂàÜÂàÜÊûê",
                            "Ê©üÊ¢∞ÁâπÊÄßË©¶È®ì",
                            "ÁµÑÁπîË¶≥ÂØü",
                            "‰∏çÁ¥îÁâ©Ê§úÊüª",
                            "„Éà„É¨„Éº„Çµ„Éì„É™„ÉÜ„Ç£"
                        ],
                        "has_detail": false,
                        "legend_color": "#0a525a"
                    },
                    "secondary_ingot": {
                        "name": "ÂÜçÁîü„Ç§„É≥„Ç¥„ÉÉ„ÉàË£ΩÈÄ†",
                        "color": "linear-gradient(135deg, #073e47, #042a2f)",
                        "position": {"top": 680, "right": 60, "width": 220, "height": 180},
                        "sub_items": [
                            "Èã≥ÈÄ†ÊäÄË°ì",
                            "ÂÜ∑Âç¥Âà∂Âæ°",
                            "Ë°®Èù¢‰ªï‰∏ä„Åí",
                            "ÂØ∏Ê≥ïÁ≤æÂ∫¶ÁÆ°ÁêÜ",
                            "Âá∫Ëç∑Ê∫ñÂÇô"
                        ],
                        "has_detail": false,
                        "legend_color": "#073e47"
                    }
                }
            }
        };
        
        // ÁèæÂú®„ÅÆÁä∂ÊÖãÁÆ°ÁêÜ
        let currentLevel = "main";
        let breadcrumb = ["„Ç¢„É´„Éü„Éã„Ç¶„É†ÂÖ®‰Ωì"];
        
        // „Ç®„É™„Ç¢Ë©≥Á¥∞ÊÉÖÂ†±
        const areaInfo = {
            // „É°„Ç§„É≥„É¨„Éô„É´
            primary: {
                title: '‰∏ÄÊ¨°„Ç¢„É´„Éü„Éã„Ç¶„É†ÁîüÁî£„Ç®„É™„Ç¢',
                content: `<strong>ÂéüÊñô„Åã„ÇâÊñ∞Ë¶è„Ç¢„É´„Éü„Éã„Ç¶„É†„ÇíÁîüÁî£„Åô„ÇãÈ†òÂüü</strong><br>
                „Åì„ÅÆ„Ç®„É™„Ç¢„Åß„ÅØ„ÄÅ„Éú„Éº„Ç≠„Çµ„Ç§„ÉàÈâ±Áü≥„Åã„ÇâÈáëÂ±û„Ç¢„É´„Éü„Éã„Ç¶„É†„Åæ„Åß„ÅÆÂÖ®Â∑•Á®ã„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ
                ‰∏ªË¶Å„Éó„É≠„Çª„ÇπÔºö„Éú„Éº„Ç≠„Çµ„Ç§„ÉàÊé°Êéò„ÄÅ„Ç¢„É´„Éü„ÉäÁ≤æË£Ω„ÄÅÈõªËß£Ë£ΩÈå¨„ÄÅÂú∞ÂüüÂà•ÊúÄÈÅ©Âåñ„ÄÇ
                Áí∞Â¢ÉË≤†Ëç∑ÔºöÈ´ò„Ç®„Éç„É´„ÇÆ„ÉºÊ∂àË≤ªÔºàÁ¥Ñ15kWh/kgÔºâ`
            },
            secondary: {
                title: '‰∫åÊ¨°„Ç¢„É´„Éü„Éã„Ç¶„É†ÁîüÁî£„Ç®„É™„Ç¢',
                content: `<strong>„É™„Çµ„Ç§„ÇØ„É´„Ç¢„É´„Éü„Éã„Ç¶„É†„ÅÆÁîüÁî£È†òÂüü</strong><br>
                ‰ΩøÁî®Ê∏à„Åø„Ç¢„É´„Éü„Éã„Ç¶„É†Ë£ΩÂìÅ„ÇíÂéüÊñô„Å®„Åó„Å¶„ÄÅÊñ∞„Åó„ÅÑ„Ç¢„É´„Éü„Éã„Ç¶„É†„ÇíÁîüÁî£„Åô„ÇãÂæ™Áí∞Âûã„Ç®„É™„Ç¢„Åß„Åô„ÄÇ
                ‰∏ªË¶Å„Éó„É≠„Çª„ÇπÔºö„Çπ„ÇØ„É©„ÉÉ„ÉóÂõûÂèé„ÄÅÂâçÂá¶ÁêÜ„ÄÅÊ∫∂Ëß£Á≤æË£Ω„ÄÅÂÜçÁîü„Ç§„É≥„Ç¥„ÉÉ„ÉàË£ΩÈÄ†„ÄÇ
                Áí∞Â¢É„É°„É™„ÉÉ„ÉàÔºö‰∏ÄÊ¨°ÁîüÁî£ÊØî95%„ÅÆ„Ç®„Éç„É´„ÇÆ„ÉºÂâäÊ∏õÂäπÊûú`
            },
            alloys: {
                title: '„Ç¢„É´„Éü„Éã„Ç¶„É†ÂêàÈáë„Ç®„É™„Ç¢',
                content: `<strong>Áî®ÈÄîÂà•ÂêàÈáëË®≠Ë®à„ÉªË£ΩÈÄ†„ÅÆ‰∏≠ÂøÉÈ†òÂüü</strong><br>
                Á¥î„Ç¢„É´„Éü„Éã„Ç¶„É†„Å´ÂêÑÁ®ÆÂÖÉÁ¥†„ÇíÊ∑ªÂä†„Åó„Å¶„ÄÅÁî®ÈÄî„Å´Âøú„Åò„ÅüÁâπÊÄß„ÇíÊåÅ„Å§ÂêàÈáë„ÇíË®≠Ë®à„ÉªË£ΩÈÄ†„Åô„Çã„Ç®„É™„Ç¢„Åß„Åô„ÄÇ
                ÂêàÈáëÁ≥ªÁµ±Ôºö1000Á≥ªÔºàÁ¥îÂ∫¶99%‰ª•‰∏äÔºâ„ÄÅ2000Á≥ªÔºàÈäÖÊ∑ªÂä†„ÄÅÈ´òÂº∑Â∫¶Ôºâ„ÄÅ5000Á≥ªÔºà„Éû„Ç∞„Éç„Ç∑„Ç¶„É†Ê∑ªÂä†Ôºâ„ÄÅ6000Á≥ªÔºàÊßãÈÄ†ÊùêÔºâ„ÄÇ
                ÂìÅË≥™ÁÆ°ÁêÜÔºöÊàêÂàÜÂàÜÊûê„ÉªÊ©üÊ¢∞ÁâπÊÄßË©¶È®ì„ÉªÁµÑÁπîË¶≥ÂØü`
            },
            processing: {
                title: '„Ç¢„É´„Éü„Éã„Ç¶„É†Âä†Â∑•„Ç®„É™„Ç¢',
                content: `<strong>„Ç§„É≥„Ç¥„ÉÉ„Éà„Åã„ÇâÊúÄÁµÇÂΩ¢Áä∂„Å∏„ÅÆÂä†Â∑•È†òÂüü</strong><br>
                „Ç¢„É´„Éü„Éã„Ç¶„É†„Ç§„É≥„Ç¥„ÉÉ„Éà„ÇÑÂêàÈáë„ÇíÊßò„ÄÖ„Å™Âä†Â∑•ÊäÄË°ì„Å´„Çà„ÇäÊúÄÁµÇË£ΩÂìÅÂΩ¢Áä∂„Å´ÊàêÂΩ¢„Åô„Çã„Ç®„É™„Ç¢„Åß„Åô„ÄÇ
                ‰∏ªË¶ÅÂä†Â∑•ÊäÄË°ìÔºöÂúßÂª∂ÔºàÊùøÊùê„ÉªÁÆîÔºâ„ÄÅÊäºÂá∫ÔºàË§áÈõëÊñ≠Èù¢ÂΩ¢ÊùêÔºâ„ÄÅÈçõÈÄ†ÔºàÈ´òÂº∑Â∫¶ÈÉ®ÂìÅÔºâ„ÄÅÈã≥ÈÄ†ÔºàË§áÈõëÂΩ¢Áä∂Ôºâ„ÄÅË°®Èù¢Âá¶ÁêÜ„ÄÇ
                ÂìÅË≥™‰øùË®ºÔºöÂØ∏Ê≥ïÁ≤æÂ∫¶„ÉªË°®Èù¢ÂìÅË≥™„ÉªÊ©üÊ¢∞ÁâπÊÄßÁÆ°ÁêÜ`
            },
            products: {
                title: '„Ç¢„É´„Éü„Éã„Ç¶„É†Ë£ΩÂìÅ„Ç®„É™„Ç¢',
                content: `<strong>ÊúÄÁµÇÁî®ÈÄîÂà•Ë£ΩÂìÅ„ÅÆÂøúÁî®È†òÂüü</strong><br>
                Âä†Â∑•„Åï„Çå„Åü„Ç¢„É´„Éü„Éã„Ç¶„É†ÊùêÊñô„Åå„ÄÅÂêÑÁî£Ê•≠ÂàÜÈáé„ÅÆÊúÄÁµÇË£ΩÂìÅ„Å®„Åó„Å¶ÂøúÁî®„Åï„Çå„ÇãÈ†òÂüü„Åß„Åô„ÄÇ
                ‰∏ªË¶ÅÂøúÁî®ÂàÜÈáéÔºöÂª∫ÁØâÔºàÁ™ìÊû†„ÉªÊßãÈÄ†ÊùêÔºâ„ÄÅËº∏ÈÄÅÔºàËá™ÂãïËªä„ÉªËà™Á©∫Ê©üÔºâ„ÄÅÂåÖË£ÖÔºàÁº∂„ÉªÂÆπÂô®Ôºâ„ÄÅÈõªÂ≠êÔºàÊîæÁÜ±Âô®„ÉªÁ≠ê‰ΩìÔºâ„ÄÇ
                „É©„Ç§„Éï„Çµ„Ç§„ÇØ„É´Ôºö‰ΩøÁî®‚ÜíÂõûÂèé‚Üí„É™„Çµ„Ç§„ÇØ„É´„Å∏„ÅÆÂæ™Áí∞`
            },
            // Ë©≥Á¥∞„É¨„Éô„É´
            bauxite_mining: {
                title: '„Éú„Éº„Ç≠„Çµ„Ç§„ÉàÊé°Êéò',
                content: `<strong>„Ç¢„É´„Éü„Éã„Ç¶„É†„ÅÆÂéüÊñô„Å®„Å™„Çã„Éú„Éº„Ç≠„Çµ„Ç§„ÉàÈâ±Áü≥„ÅÆÊé°ÊéòÂ∑•Á®ã</strong><br>
                ‰∏ª„Å´Èú≤Â§©Êéò„Çä„ÅßÊé°Êéò„Åï„Çå„ÄÅÂìÅË≥™ÁÆ°ÁêÜ„Å®Áí∞Â¢ÉÈÖçÊÖÆ„ÅåÈáçË¶Å„ÄÇÊé°ÊéòÂæå„ÅÆÂúüÂú∞Âæ©Êóß„ÇÇÂê´„ÇÄÊåÅÁ∂öÂèØËÉΩ„Å™Êé°Êéò„ÅåÊ±Ç„ÇÅ„Çâ„Çå„Åæ„Åô„ÄÇ`
            },
            alumina_refining: {
                title: '„Ç¢„É´„Éü„ÉäÁ≤æË£Ω',
                content: `<strong>„Éú„Éº„Ç≠„Çµ„Ç§„Éà„Åã„Çâ„Ç¢„É´„Éü„ÉäÔºàÈÖ∏Âåñ„Ç¢„É´„Éü„Éã„Ç¶„É†Ôºâ„ÇíÊäΩÂá∫„Åô„ÇãÂ∑•Á®ã</strong><br>
                „Éê„Ç§„É§„ÉºÊ≥ï„Çí‰ΩøÁî®„Åó„ÄÅËµ§Ê≥•„Å®„ÅÑ„ÅÜÂâØÁî£Áâ©„ÅÆÈÅ©Âàá„Å™Âá¶ÁêÜ„ÅåÁí∞Â¢É‰∏ä„ÅÆË™≤È°å„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ`
            },
            electrolysis: {
                title: 'ÈõªËß£Ë£ΩÈå¨',
                content: `<strong>„Ç¢„É´„Éü„Éä„Åã„ÇâÈáëÂ±û„Ç¢„É´„Éü„Éã„Ç¶„É†„ÇíË£ΩÈå¨„Åô„ÇãÂ∑•Á®ã</strong><br>
                „Éõ„Éº„É´„Éª„Ç®„É´„ÉºÊ≥ï„Å´„Çà„Çä„ÄÅÂ§ßÈáè„ÅÆÈõªÂäõ„Çí‰ΩøÁî®„Åó„Å¶„Ç¢„É´„Éü„Éã„Ç¶„É†„ÇíÁîüÁî£„Åó„Åæ„Åô„ÄÇ„Ç®„Éç„É´„ÇÆ„ÉºÂäπÁéá„ÅåÈáçË¶Å„Å™Ë¶ÅÁ¥†„Åß„Åô„ÄÇ`
            },
            scrap_collection: {
                title: '„Çπ„ÇØ„É©„ÉÉ„ÉóÂõûÂèé„Ç∑„Çπ„ÉÜ„É†',
                content: `<strong>‰ΩøÁî®Ê∏à„Åø„Ç¢„É´„Éü„Éã„Ç¶„É†Ë£ΩÂìÅ„ÅÆÂäπÁéáÁöÑ„Å™ÂõûÂèé„Ç∑„Çπ„ÉÜ„É†</strong><br>
                Âª∫ÁØâ„ÄÅËº∏ÈÄÅ„ÄÅÂåÖË£Ö„Å™„Å©ÂêÑÂàÜÈáé„Åã„Çâ„ÅÆÂõûÂèé„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Å®ÂàÜÂà•„Ç∑„Çπ„ÉÜ„É†„ÅåÈáçË¶Å„Åß„Åô„ÄÇ`
            },
            preprocessing: {
                title: 'ÂâçÂá¶ÁêÜÂ∑•Á®ã',
                content: `<strong>„Çπ„ÇØ„É©„ÉÉ„Éó„ÅÆÊ∫∂Ëß£ÂâçÊ∫ñÂÇôÂ∑•Á®ã</strong><br>
                Á£ÅÊ∞óÂàÜÈõ¢„ÇÑÊ∏¶ÈõªÊµÅÂàÜÈõ¢„Å´„Çà„Çä‰ªñ„ÅÆÈáëÂ±û„ÇíÈô§Âéª„Åó„ÄÅÁ†¥Á†ï„ÉªÊ¥óÊµÑ„ÇíË°å„Å£„Å¶Ê∫∂Ëß£„Å´ÈÅ©„Åó„ÅüÁä∂ÊÖã„Å´„Åó„Åæ„Åô„ÄÇ`
            }
        };
        
        // ÂàùÊúüË°®Á§∫
        document.addEventListener('DOMContentLoaded', function() {
            renderCurrentLevel();
        });
        
        // ÁèæÂú®„ÅÆ„É¨„Éô„É´„ÇíÊèèÁîª
        function renderCurrentLevel() {
            const levelData = areaHierarchy[currentLevel];
            const container = document.getElementById('areasContainer');
            const mainTitle = document.getElementById('mainTitle');
            const backButton = document.getElementById('backButton');
            
            // „Çø„Ç§„Éà„É´Êõ¥Êñ∞
            mainTitle.textContent = levelData.title;
            
            // Êàª„Çã„Éú„Çø„É≥„ÅÆË°®Á§∫/ÈùûË°®Á§∫
            if (currentLevel !== 'main') {
                backButton.style.display = 'block';
            } else {
                backButton.style.display = 'none';
            }
            
            // „Ç≥„É≥„ÉÜ„Éä„Çí„ÇØ„É™„Ç¢
            container.innerHTML = '';
            
            // „Ç®„É™„Ç¢„ÇíÁîüÊàê
            Object.keys(levelData.areas).forEach(areaKey => {
                const areaData = levelData.areas[areaKey];
                const areaElement = createAreaElement(areaKey, areaData);
                container.appendChild(areaElement);
            });
            
            // Âá°‰æã„ÇíÊõ¥Êñ∞
            updateLegend(levelData.areas);
            
            // „Éë„É≥„Åè„Åö„ÇíÊõ¥Êñ∞
            updateBreadcrumb();
        }
        
        // „Ç®„É™„Ç¢Ë¶ÅÁ¥†„Çí‰ΩúÊàê
        function createAreaElement(areaKey, areaData) {
            const area = document.createElement('div');
            area.className = `area ${areaData.has_detail ? 'clickable' : ''}`;
            area.style.background = areaData.color;
            
            // ‰ΩçÁΩÆË®≠ÂÆö
            const pos = areaData.position;
            
            // „É¢„Éê„Ç§„É´Âêë„Åë„Å´Ë™øÊï¥„Åï„Çå„Åü‰ΩçÁΩÆÊÉÖÂ†±„ÇíÈÅ©Áî®
            if (window.innerWidth <= 768) {
                // „É¢„Éê„Ç§„É´„Åß„ÅØÁ∏¶„Å´ÈÖçÁΩÆ
                const mobilePositions = {
                    'primary_production': { top: '170px', left: '10px', right: 'auto', width: 'calc(100% - 20px)', height: '220px' },
                    'secondary_production': { top: '410px', left: '10px', right: 'auto', width: 'calc(100% - 20px)', height: '220px' },
                    'alloys': { top: '650px', left: '10px', right: 'auto', width: 'calc(100% - 20px)', height: '220px' },
                    'processing': { top: '890px', left: '10px', right: 'auto', width: 'calc(100% - 20px)', height: '240px' },
                    'products': { top: '1150px', left: '10px', right: 'auto', width: 'calc(100% - 20px)', height: '240px' }
                };
                
                const areaKey = Object.keys(areaHierarchy[currentLevel].areas).find(key => 
                    areaHierarchy[currentLevel].areas[key] === areaData
                );
                
                if (mobilePositions[areaKey]) {
                    Object.keys(mobilePositions[areaKey]).forEach(prop => {
                        area.style[prop] = mobilePositions[areaKey][prop];
                    });
                } else {
                    // „Éá„Éï„Ç©„É´„Éà„ÅÆ‰ΩçÁΩÆË®≠ÂÆö
                    Object.keys(pos).forEach(prop => {
                        if (prop === 'left' && pos[prop].toString().includes('%')) {
                            area.style.left = pos[prop];
                        } else if (prop === 'right') {
                            area.style.right = pos[prop] + 'px';
                        } else if (prop === 'transform') {
                            area.style.transform = pos[prop];
                        } else if (typeof pos[prop] === 'number') {
                            area.style[prop] = pos[prop] + 'px';
                        } else {
                            area.style[prop] = pos[prop];
                        }
                    });
                }
            } else {
                // „Éá„Çπ„ÇØ„Éà„ÉÉ„Éó„ÅÆ‰ΩçÁΩÆË®≠ÂÆö
                Object.keys(pos).forEach(prop => {
                    if (prop === 'left' && pos[prop].toString().includes('%')) {
                        area.style.left = pos[prop];
                    } else if (prop === 'right') {
                        area.style.right = pos[prop] + 'px';
                    } else if (prop === 'transform') {
                        area.style.transform = pos[prop];
                    } else if (typeof pos[prop] === 'number') {
                        area.style[prop] = pos[prop] + 'px';
                    } else {
                        area.style[prop] = pos[prop];
                    }
                });
            }
            
            // „ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
            if (areaData.has_detail) {
                area.addEventListener('click', () => navigateToDetail(areaKey));
            } else {
                area.addEventListener('click', () => showAreaInfo(areaKey));
            }
            
            // „Çø„Ç§„Éà„É´
            const title = document.createElement('div');
            title.className = 'area-title';
            title.textContent = areaData.name;
            area.appendChild(title);
            
            // „Ç≥„É≥„ÉÜ„É≥„ÉÑ
            const content = document.createElement('div');
            content.className = 'area-content';
            
            areaData.sub_items.forEach(item => {
                const subItem = document.createElement('div');
                subItem.className = 'sub-item';
                subItem.textContent = item;
                content.appendChild(subItem);
            });
            
            area.appendChild(content);
            
            return area;
        }
        
        // Ë©≥Á¥∞ÁîªÈù¢„Å´ÈÅ∑Áßª
        function navigateToDetail(areaKey) {
            if (areaHierarchy[areaKey]) {
                currentLevel = areaKey;
                breadcrumb.push(areaHierarchy[areaKey].title);
                
                // „Éï„Çß„Éº„Éâ„Ç¢„Ç¶„Éà ‚Üí „Éï„Çß„Éº„Éâ„Ç§„É≥
                const mainArea = document.getElementById('mainArea');
                mainArea.classList.remove('active');
                
                setTimeout(() => {
                    renderCurrentLevel();
                    mainArea.classList.add('active');
                }, 300);
            }
        }
        
        // Êàª„Çã
        function goBack() {
            if (currentLevel !== 'main') {
                const parentLevel = areaHierarchy[currentLevel].parent || 'main';
                currentLevel = parentLevel;
                breadcrumb.pop();
                
                // „Éï„Çß„Éº„Éâ„Ç¢„Ç¶„Éà ‚Üí „Éï„Çß„Éº„Éâ„Ç§„É≥
                const mainArea = document.getElementById('mainArea');
                mainArea.classList.remove('active');
                
                setTimeout(() => {
                    renderCurrentLevel();
                    mainArea.classList.add('active');
                }, 300);
            }
        }
        
        // „Ç®„É™„Ç¢ÊÉÖÂ†±Ë°®Á§∫
        function showAreaInfo(areaKey) {
            const infoContent = document.getElementById('infoContentTop');
            const infoTitle = document.querySelector('#infoPanelTop .info-title');
            
            // Êó¢Â≠ò„ÅÆactive„ÇØ„É©„Çπ„ÇíÂâäÈô§
            document.querySelectorAll('.area').forEach(el => el.classList.remove('active'));
            
            // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åü„Ç®„É™„Ç¢„Å´active„ÇØ„É©„Çπ„ÇíËøΩÂä†
            const areaElement = document.querySelector(`[data-key="${areaKey}"]`);
            if (areaElement) {
                areaElement.classList.add('active');
            }
            
            if (areaInfo[areaKey]) {
                infoTitle.textContent = areaInfo[areaKey].title;
                infoContent.innerHTML = areaInfo[areaKey].content;
            }
        }
        
        // Âá°‰æãÊõ¥Êñ∞
        function updateLegend(areas) {
            const legendContent = document.getElementById('legendContent');
            legendContent.innerHTML = '';
            
            Object.values(areas).forEach(areaData => {
                const legendItem = document.createElement('div');
                legendItem.className = 'legend-item';
                
                const colorBox = document.createElement('div');
                colorBox.className = 'legend-color';
                colorBox.style.background = areaData.legend_color;
                
                const text = document.createElement('span');
                text.className = 'legend-text';
                text.textContent = areaData.name.replace('„Ç®„É™„Ç¢', '');
                
                legendItem.appendChild(colorBox);
                legendItem.appendChild(text);
                legendContent.appendChild(legendItem);
            });
        }
        
        // „Éë„É≥„Åè„ÅöÊõ¥Êñ∞
        function updateBreadcrumb() {
            const breadcrumbContainer = document.getElementById('breadcrumb');
            breadcrumbContainer.innerHTML = '';
            
            breadcrumb.forEach((item, index) => {
                const breadcrumbItem = document.createElement('span');
                breadcrumbItem.className = 'breadcrumb-item';
                breadcrumbItem.textContent = item;
                
                if (index < breadcrumb.length - 1) {
                    breadcrumbItem.classList.add('clickable');
                    breadcrumbItem.addEventListener('click', () => {
                        // „Éë„É≥„Åè„Åö„ÇØ„É™„ÉÉ„ÇØ„ÅßË©≤ÂΩì„É¨„Éô„É´„Å´Êàª„Çã
                        if (index === 0) {
                            currentLevel = 'main';
                            breadcrumb = ['„Ç¢„É´„Éü„Éã„Ç¶„É†ÂÖ®‰Ωì'];
                        }
                        renderCurrentLevel();
                    });
                }
                
                breadcrumbContainer.appendChild(breadcrumbItem);
            });
        }
        
        // ÂàùÊúü„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
        function initializeAnimation() {
            const areas = document.querySelectorAll('.area');
            areas.forEach((area, index) => {
                area.style.opacity = '0';
                area.style.transform += ' scale(0.8)';
                setTimeout(() => {
                    area.style.transition = 'all 0.6s ease';
                    area.style.opacity = '1';
                    area.style.transform = area.style.transform.replace('scale(0.8)', 'scale(1)');
                }, index * 200 + 500);
            });
        }
        
        // „É¨„É≥„ÉÄ„É™„É≥„Ç∞Âæå„Å´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂÆüË°å
        setTimeout(initializeAnimation, 100);
    </script>
</body>
</html>
